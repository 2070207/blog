---
import HeaderLink from '@/components/HeaderLink'
import MenuIcon from '@/components/icons/MenuIcon'
---

<div class='md:relative'>
	<button
		id='dropdownDefaultButton'
		data-dropdown-toggle='dropdown'
		class='text-black border-b-2 flex justify-center items-center border-white transition-colors duration-150 border-opacity-0 focus:border-opacity-100 focus:border-b-2 focus:outline-none focus:border-black font-medium md:w-32 py-1.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800'
		type='button'>
		<span class='md:hidden'>
			<MenuIcon />
		</span>

		<span class='hidden md:flex md:justify-center md:items-center'>
			Pages
			<svg
				class='w-2.5 h-2.5 ml-2.5'
				aria-hidden='true'
				xmlns='http://www.w3.org/2000/svg'
				fill='none'
				viewBox='0 0 10 6'>
				<path
					stroke='currentColor'
					stroke-linecap='round'
					stroke-linejoin='round'
					stroke-width='2'
					d='m1 1 4 4 4-4'></path>
			</svg>
		</span>
	</button>
	<!-- Dropdown menu -->
	<div
		id='dropdown'
		class='absolute hidden top-0 z-50 md:top-[38px] right-0 w-48 h-screen md:h-auto md:max-w-full md:rounded-b-lg shadow-lg border-sky-200 dark:bg-gray-800 bg-white'>
		<span class='closeNav md:hidden'>close</span>
		<ul
			class='flex flex-col justify-center items-center py-2 gap-2 text-gray-700 dark:text-gray-200'
			aria-labelledby='dropdownDefaultButton'>
			<li>
				<a
					href='#'
					class='block px-4 py-2 hover:underline dark:hover:bg-gray-600 dark:hover:text-white font-semibold hover:text-indigo-500'
					>Dashboard</a
				>
			</li>
			<li>
				<a
					href='#'
					class='block px-4 py-2 hover:underline dark:hover:bg-gray-600 dark:hover:text-white font-semibold hover:text-indigo-500'
					>Settings</a
				>
			</li>
			<li>
				<a
					href='#'
					class='block px-4 py-2 hover:underline dark:hover:bg-gray-600 dark:hover:text-white font-semibold hover:text-indigo-500'
					>Earnings</a
				>
			</li>
		</ul>
	</div>
</div>

<div
	class='div-blur hidden md:hidden absolute z-40 inset-0 backdrop-blur-sm w-screen h-screen bg-black bg-opacity-50'>
</div>

<script>
	const dropdown = document.querySelector('#dropdown')
	const divBlur = document.querySelector('.div-blur')
	// window.addEventListener(
	// 	'click',
	// 	() => {
	// 		dropdown?.classList.add('hidden')
	// 		console.log('entra')
	// 	},
	// 	true
	// )

	document.querySelector('#dropdownDefaultButton')?.addEventListener('click', () => {
		dropdown?.classList.toggle('hidden')
		divBlur?.classList.toggle('hidden')
	})

	document.querySelector('.closeNav')?.addEventListener('click', () => {
		dropdown?.classList.toggle('hidden')
		divBlur?.classList.toggle('hidden')
	})
</script>
