---
import HeaderLink from '@/components/HeaderLink'
import TwitterIcon from '@/components/icons/TwitterIcon'
import GithubIcon from '@/components/icons/GithubIcon'
import SunIcon from '@/components/icons/SunIcon'
import DropdownNav from '@/components/DropdownNav'
import MoonIcon from '@/components/icons/MoonIcon'
import PageFindSearch from '@/components/Search'
import MobileNav from './mobileNav.astro'
import MenuIcon from './icons/MenuIcon.astro'

// ADD YOUR SOCIAL NETWORKS HERE
const SOCIALNETWORKS = [
	{
		name: 'Github',
		url: 'https://github.com/danielcgilibert/blog-template',
		icon: GithubIcon
	},
	{
		name: 'Twitter',
		url: 'https://github.com/danielcgilibert/blog-template',
		icon: TwitterIcon
	}
]
---

<header class='flex justify-between items-center h-12 font-semibold'>
	<a class='text-lg' href='/'>Home</a>
	<nav class='hidden sm:flex nav-menu justify-center items-center md:flex gap-4'>
		<DropdownNav />
		<PageFindSearch />

		<div class='pl-3.5 border-l-2 flex justify-center items-center gap-4'>
			{
				SOCIALNETWORKS.map((network) => (
					<HeaderLink class='' href={network.url} target='_blank' aria-label={network.name}>
						<span>{<network.icon />} </span>
					</HeaderLink>
				))
			}

			<span class='theme relative'>
				<span class='sun-logo w-fit h-fit opacity-0 transition-transform duration-500'>
					<SunIcon />
				</span>
				<span
					class='moon-logo w-fit h-fit absolute opacity-0 inset-0 transition-transform duration-500'
				>
					<MoonIcon />
				</span>
			</span>
		</div>
	</nav>
	<button id='astro-header-drawer-button' type='button' class='link ml-6 sm:hidden'>
		<MenuIcon>
			<span class='sr-only'>Show Menu</span>
		</MenuIcon>
	</button>

	<div
		id='astro-header-drawer'
		class='shadow-2xl rounded-l-xl sm:hidden border-2 border-slate-200 bg-white absolute top-12 right-0 z-10 transition-all duration-300 translate-x-96'
	>
		<MobileNav />
	</div>
</header>
<script>
	const menuButton = document.getElementById('astro-header-drawer-button')

	menuButton?.addEventListener('click', () => {
		const menu = document.getElementById('astro-header-drawer')
		menu?.classList.toggle('translate-x-96')
	})
</script>
